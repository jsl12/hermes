{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Smart Home Notes","text":""},{"location":"#architecture","title":"Architecture","text":"<p>What all the pieces are and how they fit together.</p>"},{"location":"#setup-process","title":"Setup Process","text":"<p>How to set everything up.</p>"},{"location":"#devices","title":"Devices","text":"<p>Information about specific devices.</p>"},{"location":"#led-information","title":"LED Information","text":"<p>General information about LED technology and terminology.</p>"},{"location":"architecture/","title":"Smart Home Architecture","text":""},{"location":"architecture/#system-layout","title":"System Layout","text":"<pre><code>graph LR\n    network[Home Network]\n\n    network -- \"tcp/ip\" --- Phone\n    network -- \"tcp/ip\" --- PC\n    devices --- gateway\n\n    subgraph \"proxmox\"\n        zigbee2mqtt -- \"usb\" --- gateway[zigbee gateway]\n\n        subgraph \"HA-OS\"\n            core -- \"add-on\" --- zigbee2mqtt            \n        end\n\n        vm[Other VMs]\n    end\n    core  -- \"tcp/ip\" --- network\n</code></pre>"},{"location":"architecture/#proxmox-ve","title":"Proxmox VE","text":"<p>Proxmox VE is a complete, open-source server management platform for enterprise virtualization. It tightly integrates the KVM hypervisor and Linux Containers (LXC), software-defined storage and networking functionality, on a single platform. With the integrated web-based user interface you can manage VMs and containers, high availability for clusters, or the integrated disaster recovery tools with ease.</p>"},{"location":"architecture/#home-assistant","title":"Home Assistant","text":""},{"location":"architecture/#zigbee","title":"Zigbee","text":"<p>Zigbee is a low-power wireless mesh network standard targeted at battery-powered devices in wireless control and monitoring applications.</p>"},{"location":"architecture/#zigbee2mqtt","title":"Zigbee2MQTT","text":"<p>Zigbee to MQTT bridge, get rid of your proprietary Zigbee bridges</p> <ul> <li>HA Addon</li> <li>HA Integration<ul> <li>MQTT - The Standard for IoT Messaging</li> </ul> </li> </ul>"},{"location":"architecture/#phoscon-deconz","title":"Phoscon / deCONZ","text":""},{"location":"architecture/#deconz-ha-integration","title":"deCONZ HA Integration","text":""},{"location":"architecture/#appdaemon","title":"AppDaemon","text":""},{"location":"architecture/#appdaemon-documentation","title":"AppDaemon Documentation","text":"<p>AppDaemon is a loosely coupled, multi-threaded, sandboxed python execution environment for writing automation apps for home automation projects, and any environment that requires a robust event driven architecture.</p>"},{"location":"devices/","title":"Devices","text":""},{"location":"devices/#computers","title":"Computers","text":""},{"location":"devices/#rpi","title":"Rpi","text":"<ul> <li>Adafruit - Raspberry Pi 4 (8 GB)</li> <li>Amazon - Raspberry Pi 4 (4 GB)</li> <li>Power supply (15W)</li> <li>Argon ONE Case</li> <li>240 GB SSD<ul> <li>Needs to be M.2 SATA specifically</li> </ul> </li> </ul>"},{"location":"devices/#ebay","title":"Ebay","text":"<p>Search for \"mini pc\", get anything.</p>"},{"location":"devices/#aqara","title":"Aqara","text":"<p>The latest products from Xiaomi, Western-branded</p>"},{"location":"devices/#motion-sensor-amazon","title":"Motion Sensor (Amazon)","text":"<p>Approximately 90s reset time, so the sensor value will clear about 90s after last detecting motion.</p>"},{"location":"devices/#mini-switch-amazon","title":"Mini Switch (Amazon)","text":"<p>Events thrown: - single press - double press - long press down - long press up</p>"},{"location":"devices/#philips-hue-amazon","title":"Philips Hue (Amazon)","text":"<p>Tier 1 brand, and you get what you pay for. They undoubtedly make the best hardware, and the vast majority of it is zigbee controlled (anything that says \"hub required\").</p>"},{"location":"devices/#btf-lighting","title":"BTF-Lighting","text":"<p>Solid general LED lighting company from Shenzhen.</p>"},{"location":"devices/#fcob-cct-led-strip","title":"FCOB CCT LED Strip","text":""},{"location":"devices/#fcob-rgb-led-strip","title":"FCOB RGB LED Strip","text":""},{"location":"devices/#zigbee-led-strip-controller","title":"Zigbee LED Strip Controller","text":"<p>Comes in several varieties - RGB - CCT - RGBCCT - RGBW</p>"},{"location":"devices/#ws2812b-rgb-smd","title":"WS2812B RGB SMD","text":"<ul> <li>16.4 ft, 300 LEDs</li> <li>IP ratings are various levels of dust/water proofing</li> </ul>"},{"location":"devices/#thermostats","title":"Thermostats","text":"<p>Ecobee Smart Thermostat Enhanced - Amazon</p>"},{"location":"devices/#relays","title":"Relays","text":"<p>These are intended to be buried in the junction box of any regular light switch.</p> <p>The wiring isn't as straightforward as it seems, but it's workable. Diagram to come.</p> <p>Sonoff minir4 (with neutral wire)</p> <p>Sonoff zbmini-l2 (without neutral wire)</p>"},{"location":"leds/","title":"LED Information","text":""},{"location":"leds/#strips","title":"Strips","text":""},{"location":"leds/#construction","title":"Construction","text":"<ul> <li>FCOB - flexible chip-on-board, which refers to the manufacturing method. This method allows the individual LEDs to be really closely spaced.</li> <li>SMT - surface mount</li> </ul>"},{"location":"leds/#color-types","title":"Color Types","text":"<ul> <li>RGB - red, green, blue</li> <li>Each individual LED package has 3 physical diodes in it, one for each color</li> <li>Good for multicolor, but not shades of white (use CCT instead)</li> <li>CCT</li> <li>color temperature</li> <li>Each LED package has 2 physical diodes - cool white (CW) and warm white (WW)</li> <li>CRI</li> <li>24V is good for longer continuous runs</li> </ul>"},{"location":"leds/#control-schemes","title":"Control Schemes","text":""},{"location":"leds/#single-color-analog","title":"Single Color (Analog)","text":"<p>Most LED strips are controlled as a single color with an analog signal. The signal is a PWM between a wire with the positive supply voltage and the wire for each LED. The color spectrum is made up of different combinations of power sent to each LED.</p> <p>For example an RGB signal would have 4 wires:</p> <ul> <li>V+</li> <li>R (red)</li> <li>G (green)</li> <li>B (blue)</li> </ul> <p>A CCT signal would just be 3 wires:</p> <ul> <li>V+ </li> <li>CW (cool white)</li> <li>WW (warm white)</li> </ul>"},{"location":"leds/#addressable-digital","title":"Addressable (Digital)","text":"<p>Each LED comes with a small chip that can be individually controlled. Normally </p> <ul> <li>WS2811B</li> </ul>"},{"location":"process/","title":"Setup Process","text":""},{"location":"process/#ha-os-on-raspberry-pi","title":"HA OS on Raspberry Pi","text":"<p>Home Assistant installation</p> <p>Home Assistant Operating System: Minimal Operating System optimized to power Home Assistant. It comes with Supervisor to manage Home Assistant Core and Add-ons. Recommended installation method.</p> <p>Full instructions</p> <ul> <li>Download the Raspberry Pi Imager.</li> <li>Use it to install HA OS on a USB stick, following these prompts<ul> <li>Other specific-purpose OS</li> <li>Home assistants and home automation</li> <li>Home Assistant</li> <li>Home Assistant OS X.X (RPi 4/400)</li> </ul> </li> <li>Boot the RPi from the USB stick and follow installation prompts</li> </ul>"},{"location":"process/#proxmox","title":"Proxmox","text":"<ul> <li>Download the latest proxmox ISO file from here</li> <li>Use Rufus to write it to a USB stick</li> <li>Boot the machine from the USB stick and follow the installation prompts</li> </ul>"},{"location":"process/#network-setup","title":"Network Setup","text":"Set DNS server<pre><code>nano /etc/resolv.conf\n</code></pre> <p>Change <code>nameserver</code> to <code>8.8.8.8</code></p> Set IP address and gateway<pre><code>nano /etc/network/interfaces\n</code></pre>"},{"location":"process/#helper-scripts","title":"Helper Scripts","text":"Proxmox VE Post Install <p>This script provides options for managing Proxmox VE repositories, including disabling the Enterprise Repo, adding or correcting PVE sources, enabling the No-Subscription Repo, adding the test Repo, disabling the subscription nag, updating Proxmox VE, and rebooting the system. </p> <pre><code>bash -c \"$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/post-pve-install.sh)\"\n</code></pre> Home Assistant OS VM <p>This script automates the process of creating a Virtual Machine (VM) using the official KVM (qcow2) disk image provided by the Home Assistant Team. It involves finding, downloading, and extracting the image, defining user-defined settings, importing and attaching the disk, setting the boot order, and starting the VM. It supports various storage types, and does not involve any hidden installations.</p> <pre><code>bash -c \"$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/vm/haos-vm.sh)\"\n</code></pre>"}]}